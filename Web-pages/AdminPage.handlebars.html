<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>System Administrator Page</title>
</head>

<script src="http://www.w3schools.com/lib/w3data.js"></script>
<div w3-include-html="SignOutBanner.html"></div>
<script>
    w3IncludeHTML();
</script>

<body bgcolor="#adff2f">

<h3>Welcome to the home page for System Administrators.</h3>

<b><i>Here, you have the functionality of adding users to the system !</i></b><br><br>

<h5>Add New User Form</h5>

<div>

  <!-- Nav tabs -->
  <ul class="nav nav-tabs" role="tablist">
    <li role="presentation" class="active"><a href="#supervisors" aria-controls="supervisors" role="tab" data-toggle="tab">SUPERVISOR</a></li>
    <li role="presentation"><a href="#requesters" aria-controls="requesters" role="tab" data-toggle="tab">REQUESTOR</a></li>
  </ul>

  <!-- Tab panes -->
    <div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="supervisors">
        <form id = "supervisorForm">
    Surname: <input type="text" id="surnameSupervisor"><br>
    Given Name: <input type="text" id="givenNameSupervisor"><br>
    Email: <input type="text" id="emailSupervisor"><br>
    loginID: <input type="text" id="loginIdSupervisor"><br>
    Password : <input type="password" id="passSupervisor"><br>     
    Employee Number: <input type="text" id="empNumber"><br>
      </form> 
      </div>
      
    <div role="tabpanel" class="tab-pane" id="requesters">
        <form id = "requesterForm">
    Surname : <input type="text" id="surnameRequester"><br>
    GivenName : <input type="text" id="givenNameRequester"><br>
    Email: <input type="text" id="emailRequester"><br>
    loginId: <input type="text" id="loginIdRequester"><br>
    Password : <input type="password" id="passRequester"><br>  
    Type : <input type="text" id="typeRequester"><br>        
    Student number : <input type="text" id="studentNumber"><br>
    Academic Unit : <input type="text" id="academicUnit"><br>
    Program : <input type="text" id="program"><br>
    Session number: <input type="text" id="session"><br>        
    Supervisor : <input type="text" id="supervisorId"><br>
    Thesis topic: <input type="text" id="topic"><br>
    BankAccount : <input type="text" id="bankAccount"><br>
      </form> 
      </div>
    
  </div>

</div

<script>
  $(function() {
    $('#supervisorForm').submit(verifySupervisor)
    function verifySupervisor(e) {
      e.preventDefault()
      var data = {
        surname: $('#surnameSupervisor').val(),
        givenName: $('#givenNameSupervisor').val(),
        email: $('#emailSupervisor').val(),
        loginId: $('#loginIdSupervisor').val(),
        password: $('#passSupervisor').val(),
        empNumber: $('#empNumber').val(),
        userType: 'supervisors'
      }
      $.ajax('/user/add', {
        method: "POST",
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
        },
        data: JSON.stringify(data)
      })
      .fail(function(response) {
        alert(response.responseText)
      })
    }
    
    
     $('#requesterForm').submit(verifyRequester)
    function verifyRequester(e) {
      e.preventDefault()
      var data = {
        surname: $('#surnameRequester').val(),
        givenName: $('#givenNameRequester').val(),
        email: $('#emailRequester').val(),
        loginId: $('#loginIdRequester').val(),
        password: $('#passRequester').val(),
        studentNumber: $('#studentNumber').val(),
        type: $('#typeRequester').val(),
        academicUnit: $('#academicUnit').val(),
        program: $('#program').val(),
        sessionNumber: $('#session').val(),
        supervisorId: $('#supervisorId').val(),
        thesisTopic: $('#topic').val(),
        bankAccountNumber: $('#bankAccount').val(),
         userType: 'requesters'
      }
      $.ajax('/user/add', {
        method: "POST",
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
        },
        data: JSON.stringify(data)
      })
      .fail(function(response) {
        alert(response.responseText)
      })
    }
    
  })
</script>

</body>

</html>
